{"version":3,"file":"static/js/249.a217f1a5.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/profile/profileinfo/ProfileInfo.module.css?5eda","components/profile/profileinfo/ProfileStatusWithHooks.jsx","components/profile/profileinfo/ProfileInfo.jsx","webpack://my-app/./src/components/profile/myposts/MyPosts.module.css?960d","webpack://my-app/./src/components/profile/myposts/post/Post.module.css?8492","components/profile/myposts/post/Post.jsx","components/profile/myposts/MyPosts.jsx","components/profile/myposts/MyPostsContainer.jsx","components/profile/Profile.jsx","utils/oldHOC/withRouter.js","components/profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"description_block\":\"ProfileInfo_description_block__M4B4k\",\"userPhoto\":\"ProfileInfo_userPhoto__fJP7H\"};","import React, {useEffect, useState} from \"react\"\r\nimport s from \"./ProfileInfo.module.css\";\r\n\r\n\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status])\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {editMode === true\r\n                ?\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/>\r\n                </div>\r\n                :\r\n                <div onDoubleClick={activateEditMode}>\r\n                    <span>Your status:</span>\r\n                    <span >{props.status}</span>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks","import React from \"react\"\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport defaultUsersPhoto from '../../../assets/photos/default_user_image.png'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\nconst ProfileInfo = ({profile, status, updateUserStatus, isOwner, savePhoto}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={s.description_block}>\r\n                {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n                <img  src={profile.photos.large === null ? defaultUsersPhoto : profile.photos.large} alt='User photo' className={s.userPhoto}/>\r\n                <h2>Имя: {profile.fullName}</h2>\r\n                <h3>Обо мне: {profile.aboutMe}</h3>\r\n                <div>\r\n                    <h3>В поиске работы: {profile.lookingForAJob === true? 'ДА' : 'Нет'}</h3>\r\n                    <h4>Как так получилось: {profile.lookingForAJobDescription}</h4>\r\n                </div>\r\n                <div>\r\n                    <h3>Contacts:</h3>\r\n                    <ul>\r\n                        {Object.entries(profile.contacts).map(([key,value]) => (\r\n                            !!value && <li key={key}>\r\n                                <h5>{key}: <a href={value}>{value}</a></h5>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <ProfileStatusWithHooks status = {status} updateStatus = {updateUserStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileInfo","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__gk+-H\",\"posts\":\"MyPosts_posts__vq8GB\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__J4Byi\"};","import React from \"react\"\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n\r\n    return  (\r\n      <div className={s.item}>\r\n        <img src={props.urlphoto}></img>\r\n         {props.message}\r\n         <div>\r\n          {props.LikesAmount}\r\n          <span> Like</span>\r\n         </div>\r\n      </div>\r\n    )\r\n}\r\nexport default Post","import React from \"react\"\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from \"./post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../Common/FormsControls/FormsControls\";\r\n\r\n\r\n\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let postsElements = [...props.postsData]\r\n        .reverse()\r\n        .map( (p,index) =>\r\n            <div key = {index}>\r\n                <Post LikesAmount={p.likesCount} message={p.message} urlphoto={p.url}/>\r\n            </div>);\r\n    const addNewPost = (newPostData) => {\r\n        props.addPost(newPostData.newPostText)\r\n    }\r\n    return  (\r\n    <div className={s.postsBlock}>\r\n        <h3>My Posts</h3>\r\n        <div >\r\n          <AddNewPostFormRedux onSubmit = {addNewPost}/>\r\n        </div>\r\n        <div className={s.posts}>\r\n            {postsElements}\r\n        </div>\r\n   </div>\r\n    )\r\n})\r\nconst AddNewPostForm = (props) => {\r\n    const maxLength15 = maxLengthCreator(15)\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component= {Textarea} name='newPostText' placeholder='Enter your post' validate={[requiredField, maxLength15]}/>\r\n            </div>\r\n            <div><button>Add Post</button></div>\r\n        </form>\r\n    )\r\n}\r\nconst AddNewPostFormRedux = reduxForm({form: 'profileAddPostForm'})(AddNewPostForm)\r\nexport default MyPosts","import {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\nexport default MyPostsContainer","import React from \"react\"\r\nimport ProfileInfo from \"./profileinfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./myposts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile = {props.profile}\r\n                         status = {props.status}\r\n                         updateUserStatus = {props.updateUserStatusThunk}\r\n                         isOwner = {props.isOwner}\r\n                         savePhoto = {props.savePhoto}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\nexport default Profile","import {useLocation, useNavigate, useParams} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\n// wrapper to use react router's v6 hooks in class component(to use HOC pattern, like in router v5)\r\nfunction withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\nexport default withRouter","import React from \"react\"\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfileDataThunk, getUserStatusThunk, savePhoto, updateUserStatusThunk} from \"../../redux/profile-reducer\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport withRouter from \"../../utils/oldHOC/withRouter\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n        let userId = this.props.router.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n        }\r\n        this.props.getProfileDataThunk(userId)\r\n        this.props.getUserStatusThunk(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.router.params.userId !== prevProps.router.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile profile = {this.props.profile}\r\n                         status = {this.props.status}\r\n                         updateUserStatus = {this.props.updateUserStatusThunk}\r\n                         isOwner = {!this.props.router.params.userId}\r\n                         savePhoto = {this.props.savePhoto}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {getProfileDataThunk,getUserStatusThunk,updateUserStatusThunk,savePhoto}),\r\n    withRouter)\r\n(ProfileContainer)","import {Navigate} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nconst withAuthRedirect = (Component) => {\r\n    const RedirectComponent = (props) => {\r\n        if(!props.isAuth) return <Navigate to='/login'/>\r\n        return <Component {...props}/>\r\n    }\r\n    return  connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}\r\nexport default withAuthRedirect"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","onDoubleClick","profile","updateUserStatus","isOwner","savePhoto","Preloader","className","s","type","target","files","length","src","photos","large","defaultUsersPhoto","alt","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Object","entries","contacts","map","key","href","urlphoto","message","LikesAmount","MyPosts","React","postsElements","postsData","reverse","p","index","likesCount","url","AddNewPostFormRedux","onSubmit","newPostData","addPost","newPostText","reduxForm","form","maxLength15","maxLengthCreator","handleSubmit","Field","component","Textarea","name","placeholder","validate","requiredField","connect","state","profilePage","dispatch","addPostActionCreator","updateUserStatusThunk","Component","location","useLocation","navigate","useNavigate","params","useParams","router","ProfileContainer","userId","this","authorizedUserId","getProfileDataThunk","getUserStatusThunk","refreshProfile","prevProps","prevState","snapshot","compose","withAuthRedirect","auth","isAuth","withRouter","mapStateToPropsForRedirect","to"],"sourceRoot":""}