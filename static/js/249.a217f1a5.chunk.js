"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[249],{3249:function(s,t,e){e.r(t),e.d(t,{default:function(){return F}});var r=e(5671),n=e(3144),i=e(136),o=e(516),u=e(2791),a=e(885),l="ProfileInfo_description_block__M4B4k",h="ProfileInfo_userPhoto__fJP7H",c=e(3658),d=e(1176),p=e(184),f=function(s){var t=(0,u.useState)(!1),e=(0,a.Z)(t,2),r=e[0],n=e[1],i=(0,u.useState)(s.status),o=(0,a.Z)(i,2),l=o[0],h=o[1];(0,u.useEffect)((function(){h(s.status)}),[s.status]);return(0,p.jsx)("div",{children:!0===r?(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(s){h(s.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),s.updateStatus(l)},value:l})}):(0,p.jsxs)("div",{onDoubleClick:function(){n(!0)},children:[(0,p.jsx)("span",{children:"Your status:"}),(0,p.jsx)("span",{children:s.status})]})})},x=function(s){var t=s.profile,e=s.status,r=s.updateUserStatus,n=s.isOwner,i=s.savePhoto;if(!t)return(0,p.jsx)(c.Z,{});return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:l,children:[n&&(0,p.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}}),(0,p.jsx)("img",{src:null===t.photos.large?d:t.photos.large,alt:"User photo",className:h}),(0,p.jsxs)("h2",{children:["\u0418\u043c\u044f: ",t.fullName]}),(0,p.jsxs)("h3",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",t.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("h3",{children:["\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ",!0===t.lookingForAJob?"\u0414\u0410":"\u041d\u0435\u0442"]}),(0,p.jsxs)("h4",{children:["\u041a\u0430\u043a \u0442\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c: ",t.lookingForAJobDescription]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"Contacts:"}),(0,p.jsx)("ul",{children:Object.entries(t.contacts).map((function(s){var t=(0,a.Z)(s,2),e=t[0],r=t[1];return!!r&&(0,p.jsx)("li",{children:(0,p.jsxs)("h5",{children:[e,": ",(0,p.jsx)("a",{href:r,children:r})]})},e)}))})]})]}),(0,p.jsx)("div",{children:(0,p.jsx)(f,{status:e,updateStatus:r})})]})},j=e(6070),v=e(2982),m="MyPosts_postsBlock__gk+-H",P="MyPosts_posts__vq8GB",g="Post_item__J4Byi",k=function(s){return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("img",{src:s.urlphoto}),s.message,(0,p.jsxs)("div",{children:[s.LikesAmount,(0,p.jsx)("span",{children:" Like"})]})]})},_=e(6139),S=e(704),Z=e(5304),T=e(6597),y=u.memo((function(s){var t=(0,v.Z)(s.postsData).reverse().map((function(s,t){return(0,p.jsx)("div",{children:(0,p.jsx)(k,{LikesAmount:s.likesCount,message:s.message,urlphoto:s.url})},t)}));return(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("h3",{children:"My Posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(U,{onSubmit:function(t){s.addPost(t.newPostText)}})}),(0,p.jsx)("div",{className:P,children:t})]})})),U=(0,S.Z)({form:"profileAddPostForm"})((function(s){var t=(0,Z.D)(15);return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(_.Z,{component:T.gx,name:"newPostText",placeholder:"Enter your post",validate:[Z.l,t]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add Post"})})]})})),b=y,A=e(8687),w=(0,A.$j)((function(s){return{postsData:s.profilePage.postsData,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,j.Wl)(t))}}}))(b),D=function(s){return(0,p.jsxs)("div",{children:[(0,p.jsx)(x,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatusThunk,isOwner:s.isOwner,savePhoto:s.savePhoto}),(0,p.jsx)(w,{})]})},C=e(1548),I=e(7781),M=e(1413),N=e(7689);var O=function(s){return function(t){var e=(0,N.TH)(),r=(0,N.s0)(),n=(0,N.UO)();return(0,p.jsx)(s,(0,M.Z)((0,M.Z)({},t),{},{router:{location:e,navigate:r,params:n}}))}},B=function(s){(0,i.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authorizedUserId),this.props.getProfileDataThunk(s),this.props.getUserStatusThunk(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(D,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatusThunk,isOwner:!this.props.router.params.userId,savePhoto:this.props.savePhoto})})}}]),e}(u.Component),F=(0,I.qC)(C.Z,(0,A.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getProfileDataThunk:j.lT,getUserStatusThunk:j.$S,updateUserStatusThunk:j.Gk,savePhoto:j.Ju}),O)(B)},1548:function(s,t,e){var r=e(1413),n=e(7689),i=(e(2791),e(8687)),o=e(184),u=function(s){return{isAuth:s.auth.isAuth}};t.Z=function(s){return(0,i.$j)(u)((function(t){return t.isAuth?(0,o.jsx)(s,(0,r.Z)({},t)):(0,o.jsx)(n.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=249.a217f1a5.chunk.js.map